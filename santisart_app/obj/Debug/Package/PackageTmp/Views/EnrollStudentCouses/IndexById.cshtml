

@*@model IEnumerable< santisart_app.Models.EnrollStudentCouse>*@
@model List<IGrouping<int?, santisart_app.Models.EnrollStudentCouse>>
    <div class="right" role="main">
        @*<h2>@Model.First().Enroll_student_class.Students.Student_title @Model.First().Enroll_student_class.Students.Student_name @Model.First().Enroll_student_class.Students.Student_lname</h2>*@
        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
        @{
            //var listScore = ;
            //var listScore2 = ;
            //ViewBag.studentCouse;
            int[] enrollClass = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13 };
            //Model.Where(x => x.EnrollCouses.ClassesId == 13);
            //foreach (var item in Model.Where(x=>x.EnrollCouses.ClassesId==13).toList())
            //{
            //foreach (var item2 in)
            //{

            //}
            ////}
        }
        @*  @foreach (var item in enrollClass)
        {
           @ViewBag.studentCouse;
            IEnumerable<dynamic>  listTest = ViewBag.studentCouse;
            //var temp3=listTest.Where(x => x.Enroll_student_class.EnrollEmpCouse.EnrollCouse.ClassId == 1).ToList();
            var temp3=ViewBag.ClassId;
            foreach (var item2 in listTest)
            {
                var temp1 = item2.Enroll_student_class;
                var temp2 = temp1;
            }
           //@Model.Where(x => x.EnrollStudentClassId == 1)
          //  Model.Where(x => x.EnEmpCouseClassId)
        }*@
        @foreach (var itemClass in Model)
        {


            ////var itemCouseByClass = Model.Where(x => x.EnrollCouses.ClassesId == itemClass);

            //if (Model.Where(x => x.ClassesId == itemClass).Count() != 0)

            foreach (var item in itemClass.GroupBy(x => x.Semester))
            {
                var firstList = item.ToList().FirstOrDefault();
                <div class="row">
                    <div class="col-md-12 col-sm-6 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>ปีการศึกษา  @firstList.YearEdu เทอม @firstList.Semester</h2>
                                <ul class="nav navbar-right panel_toolbox">
                                    <li>
                                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                    </li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                        <ul class="dropdown-menu" role="menu">
                                            <li>
                                                <a href="#">Settings 1</a>
                                            </li>
                                            <li>
                                                <a href="#">Settings 2</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a class="close-link"><i class="fa fa-close"></i></a>
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <tr>


                                        <th>
                                            @Html.DisplayNameFor(m => firstList.EnrollCouse.CouseTxtId)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(m => firstList.EnrollCouse.Course.CourseName)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(m => firstList.Score1)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(m => firstList.Grade)
                                        </th>

                                        <th>
                                            @Html.DisplayNameFor(m => firstList.Staff)
                                        </th>
                                        <th></th>
                                    </tr>

                                    @*@foreach (var item in Model.Where(x => x.EnrollCouses.ClassesId == itemClass && x.Semester == i))*@
                                    @foreach (var row in item)
                                    {
                                        //if (item.ClassId == itemClass)
                                        //{

                                        <tr>


                                            <td>
                                                @Html.DisplayFor(modelItem => row.EnrollCouse.CouseTxtId)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => row.EnrollCouse.Course.CourseName)
                                            <td>
                                                @Html.DisplayFor(modelItem => row.Score1)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => row.Grade)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => row.Staff)
                                            </td>
                                            <td>
                                        </tr>
                                        @*}*@
                                    }

                                </table>
                            </div>
                        </div>

                    </div>
                </div>
            }






            //}


        }

    </div>
                                            @*@Html.ActionLink("Edit", "Edit", new { id = item.EnrollStudentCouseId }) |
                                                @Html.ActionLink("Details", "Details", new { id = item.EnrollStudentCouseId }) |
                                                @Html.ActionLink("Delete", "Delete", new { id = item.EnrollStudentCouseId })*@
                                        </td>